{"version":3,"sources":["components/InputForm.module.css","components/SuccessPanel.module.css","App.module.css","images/github.png","components/Boardgame.module.css","components/DigitInput.module.css","components/Introduction.js","components/AttemptResult.js","components/DigitInput.js","hooks/useDigits.js","components/InputForm.js","components/SuccessPanel.js","components/Boardgame.js","hooks/useSecretDigits.js","hooks/useAttempts.js","index.js","App.js"],"names":["module","exports","form","fieldset","button","error","digits","commands","app","github","attempts","digit","Introduction","react_default","a","createElement","Result","_ref","attempt","secretDigits","bulls","cows","i","length","indexOf","CHAR_KEYS","React","forwardRef","ref","value","onChange","type","maxLength","required","className","styles","onClick","current","select","onKeyDown","ev","includes","keyCode","key","preventDefault","initialState","Array","fill","useDigits","_useState","useState","_useState2","Object","slicedToArray","setDigits","index","nextDigits","slice","dejaVu","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","err","return","hasDuplicates","valid","msg","some","v","InputForm","onSubmit","_useDigits","_useDigits2","setDigitAt","validation","resetDigits","refs","useRef","map","createRef","useEffect","focus","components_DigitInput","handleChange","target","title","disabled","join","scrollIntoView","SuccessPanel","nbAttempts","onRestart","Boardgame","content","_useSecretDigits","setSecretDigits","computeNextSecretDigits","nextSecretDigits","candidate","Math","floor","random","useDebugValue","useSecretDigits","_useSecretDigits2","_useAttempts","setAttempts","addAttempt","useCallback","concat","resetAttempts","useAttempts","_useAttempts2","Fragment","hidden","ReactDOM","render","href","rel","src","width","height","alt","document","getElementById"],"mappings":"2EACAA,EAAAC,QAAA,CAAkBC,KAAA,wBAAAC,SAAA,4BAAAC,OAAA,0BAAAC,MAAA,2CCAlBL,EAAAC,QAAA,CAAkBK,OAAA,6BAAAC,SAAA,iDCAlBP,EAAAC,QAAA,CAAkBO,IAAA,iBAAAC,OAAA,sCCDlBT,EAAAC,QAAA,0xECCAD,EAAAC,QAAA,CAAkBS,SAAA,8CCAlBV,EAAAC,QAAA,CAAkBU,MAAA,oMCCH,SAASC,IACtB,OACEC,EAAAC,EAAAC,cAAA,eACEF,EAAAC,EAAAC,cAAA,6BACmBF,EAAAC,EAAAC,cAAA,oBADnB,mBAGAF,EAAAC,EAAAC,cAAA,6KCNS,SAASC,EAATC,GAIb,IAJwD,IAAzBC,EAAyBD,EAAzBC,QAASC,EAAgBF,EAAhBE,aACpCC,EAAQ,EACRC,EAAO,EAEFC,EAAI,EAAGA,EAAIJ,EAAQK,OAAQD,IAC9BJ,EAAQI,KAAOH,EAAaG,GAC9BF,KAE0C,IAAtCD,EAAaK,QAAQN,EAAQI,KAC/BD,IAKN,OACER,EAAAC,EAAAC,cAAA,YACGK,EADH,cACyBC,EADzB,kDCbEI,EAAY,CAChB,EACA,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,IAIaC,MAAMC,WAAW,SAAAV,EAAyCW,GAAK,IAAxBC,EAAwBZ,EAAxBY,MAAOC,EAAiBb,EAAjBa,SAU3D,OACEjB,EAAAC,EAAAC,cAAA,SACEa,IAAKA,EACLG,KAAK,OACLC,UAAU,IACVC,UAAQ,EACRC,UAAWC,IAAOxB,MAClBkB,MAAOA,EACPO,QAAS,kBAAMR,EAAIS,QAAQC,UAC3BC,UAlBJ,SAAuBC,GACjBf,EAAUgB,SAASD,EAAGE,WAGY,IAAlC,aAAalB,QAAQgB,EAAGG,MAC1BH,EAAGI,kBAcHd,SAAUA,MCpCVe,EAAeC,MAAM,GAAGC,KAAK,IAgBpB,SAASC,IAAY,IAAAC,EACNC,mBAASL,GADHM,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC3B3C,EAD2B6C,EAAA,GACnBG,EADmBH,EAAA,GAwBlC,MAAO,CAAC7C,EApBW,SAACK,EAAO4C,GACzB,IAAMC,EAAalD,EAAOmD,MAAM,GAChCD,EAAWD,GAAS5C,EACpB2C,EAAUE,IArBd,SAAuBlD,GACrB,IAAMoD,EAAS,GADcC,GAAA,EAAAC,GAAA,EAAAC,OAAAC,EAAA,IAE7B,QAAAC,EAAAC,EAAoB1D,EAApB2D,OAAAC,cAAAP,GAAAI,EAAAC,EAAAG,QAAAC,MAAAT,GAAA,EAA4B,KAAjBhD,EAAiBoD,EAAAlC,MAC1B,GAAc,KAAVlB,EAAc,CAChB,GAAIA,KAAS+C,EACX,OAAO,EAEPA,EAAO/C,IAAS,IAPO,MAAA0D,GAAAT,GAAA,EAAAC,EAAAQ,EAAA,YAAAV,GAAA,MAAAK,EAAAM,QAAAN,EAAAM,SAAA,WAAAV,EAAA,MAAAC,GAW7B,OAAO,EAcDU,CAAcjE,GACT,CAAEkE,OAAO,EAAOC,IAAK,gCAG1BnE,EAAOoE,KAAK,SAAAC,GAAC,MAAU,KAANA,IACZ,CAAEH,OAAO,EAAOC,IAAK,IAGvB,CAAED,OAAO,EAAMC,IAAK,IAGT,kBAAMnB,EAAUT,KCjCvB,SAAS+B,EAAT3D,GAAiC,IAAZ4D,EAAY5D,EAAZ4D,SAAYC,EACQ9B,IADR+B,EAAA3B,OAAAC,EAAA,EAAAD,CAAA0B,EAAA,GACvCxE,EADuCyE,EAAA,GAC/BC,EAD+BD,EAAA,GACnBE,EADmBF,EAAA,GACPG,EADOH,EAAA,GAExCI,EAAOzD,IAAM0D,OAAO9E,EAAO+E,IAAI3D,IAAM4D,YAsB3C,OAnBA5D,IAAM6D,UAAU,WACdJ,EAAK9C,QAAQ,GAAGA,QAAQmD,SACvB,IAkBD3E,EAAAC,EAAAC,cAAA,QAAMmB,UAAWC,IAAOjC,MACtBW,EAAAC,EAAAC,cAAA,YAAUmB,UAAWC,IAAOhC,UACzBG,EAAO+E,IAAI,SAACxD,EAAO0B,GAAR,OACV1C,EAAAC,EAAAC,cAAC0E,EAAD,CACE9C,IAAKY,EACL3B,IAAKuD,EAAK9C,QAAQkB,GAClB1B,MAAOA,EACPC,SAAU,SAAAU,GAAE,OAftB,SAAsBX,EAAO0B,GAC3ByB,EAAWnD,EAAO0B,GACJ,KAAV1B,GAAgB0B,EAAQjD,EAAOiB,OAAS,GAC1C4D,EAAK9C,QAAQkB,EAAQ,GAAGlB,QAAQmD,QAYVE,CAAalD,EAAGmD,OAAO9D,MAAO0B,SAIpD1C,EAAAC,EAAAC,cAAA,UACEgB,KAAK,SACLG,UAAWC,IAAO/B,OAClBwF,MAAM,WACNC,UAAWZ,EAAWT,MACtBpC,QAhCN,SAAsBI,GACpBA,EAAGI,iBACHiC,EAASvE,EAAOwF,KAAK,KACrBZ,IACAC,EAAK9C,QAAQ,GAAGA,QAAQmD,QACxBL,EAAK9C,QAAQ,GAAGA,QAAQ0D,mBAsBtB,UASAlF,EAAAC,EAAAC,cAAA,KAAGmB,UAAWC,IAAO9B,OAAQ4E,EAAWR,IAAxC,6BChDS,SAASuB,EAAT/E,GAA+D,IAAvCE,EAAuCF,EAAvCE,aAAc8E,EAAyBhF,EAAzBgF,WAAYC,EAAajF,EAAbiF,UAC/D,OACErF,EAAAC,EAAAC,cAAA,eACEF,EAAAC,EAAAC,cAAA,OAAKmB,UAAWC,IAAO5B,UACrBM,EAAAC,EAAAC,cAAA,UACEgB,KAAK,SACLK,QAAS8D,EACThE,UAAWC,IAAO/B,OAClBwF,MAAM,WAJR,WASF/E,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,6CACoC,IAClCF,EAAAC,EAAAC,cAAA,UAAQmB,UAAWC,IAAO7B,QAASa,GAAsBN,EAAAC,EAAAC,cAAA,WAF3D,UAGSF,EAAAC,EAAAC,cAAA,cAASkF,GAHlB,cCPS,SAASE,IAAY,IAY9BC,EAZ8BC,ECTrB,WAA2B,IAAApD,EACFC,mBAAS,MADPC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACnC9B,EADmCgC,EAAA,GACrBmD,EADqBnD,EAAA,GAGxC,SAASoD,IAEP,IADA,IAAIC,EAAmB,GAChBA,EAAiBjF,OAAS,GAAG,CAClC,IAAMkF,EAAYC,KAAKC,MAAsB,GAAhBD,KAAKE,WACW,IAAzCJ,EAAiBhF,QAAQiF,KAC3BD,GAAoB,GAAKC,GAI7B,OADAH,EAAgBE,GACTA,EAWT,OAPqB,OAAjBrF,IACFA,EAAeoF,KAIjBM,wBAAc1F,GAEP,CAACA,EAAcoF,GDb0BO,GADdC,EAAA3D,OAAAC,EAAA,EAAAD,CAAAiD,EAAA,GAC3BlF,EAD2B4F,EAAA,GACbR,EADaQ,EAAA,GAAAC,EETrB,WAAuB,IAAA/D,EACJC,mBAAS,IADLC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC7BvC,EAD6ByC,EAAA,GACnB8D,EADmB9D,EAAA,GAG9B+D,EAAaC,sBAAY,SAAA7G,GAAM,OACnC2G,EAAYvG,EAAS0G,OAAO,CAAC9G,OAGzB+G,EAAgBF,sBAAY,kBAAMF,EAAY,MAEpD,MAAO,CAACvG,EAAUwG,EAAYG,GFEgBC,GAFZC,EAAAnE,OAAAC,EAAA,EAAAD,CAAA4D,EAAA,GAE3BtG,EAF2B6G,EAAA,GAEjBL,EAFiBK,EAAA,GAELF,EAFKE,EAAA,GAoDlC,OAtCEnB,EATY1F,EAASgE,KAAK,SAAAxD,GAAO,OAAIA,IAAYC,IAU/CN,EAAAC,EAAAC,cAACiF,EAAD,CACE7E,aAAcA,EACd8E,WAAYvF,EAASa,OACrB2E,UAXN,WACEK,IACAc,OAcExG,EAAAC,EAAAC,cAAAF,EAAAC,EAAA0G,SAAA,KACE3G,EAAAC,EAAAC,cAAA,SAAOmB,UAAWC,IAAOzB,SAAU+G,QAAS/G,EAASa,QACnDV,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,uBAGJF,EAAAC,EAAAC,cAAA,aACGL,EAAS2E,IAAI,SAACnE,EAASqC,GAAV,OACZ1C,EAAAC,EAAAC,cAAA,MAAI4B,IAAKY,GACP1C,EAAAC,EAAAC,cAAA,cAAMwC,EAAQ,GACd1C,EAAAC,EAAAC,cAAA,UAAKG,GACLL,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACC,EAAD,CACEE,QAASA,EACTC,aAAcA,UAO1BN,EAAAC,EAAAC,cAAC6D,EAAD,CAAWC,SAAUqC,KAKpBrG,EAAAC,EAAAC,cAAA,eAAUqF,GGxDnBsB,IAASC,OAAO9G,EAAAC,EAAAC,cCCD,WACb,OACEF,EAAAC,EAAAC,cAAA,QAAMmB,UAAWC,IAAO3B,KACtBK,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,6BAEEF,EAAAC,EAAAC,cAAA,gCAEFF,EAAAC,EAAAC,cAACH,EAAD,OAEFC,EAAAC,EAAAC,cAACoF,EAAD,MACAtF,EAAAC,EAAAC,cAAA,cACEF,EAAAC,EAAAC,cAAA,KACE6G,KAAK,wCACLjC,OAAO,SACPkC,IAAI,sBACJjC,MAAM,kBAEN/E,EAAAC,EAAAC,cAAA,OACE+G,IAAKrH,IACLyB,UAAWC,IAAO1B,OAClBsH,MAAM,KACNC,OAAO,KACPC,IAAI,oBDxBA,MAASC,SAASC,eAAe","file":"static/js/main.ea539cf5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"InputForm_form__3xKER\",\"fieldset\":\"InputForm_fieldset__3N0tE\",\"button\":\"InputForm_button__ZXKEU\",\"error\":\"InputForm_error__1b30P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"digits\":\"SuccessPanel_digits__3EfzO\",\"commands\":\"SuccessPanel_commands__q1dsv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__EAF8O\",\"github\":\"App_github__tEpAD\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"attempts\":\"Boardgame_attempts__3KLyK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"digit\":\"DigitInput_digit__57qIz\"};","import React from 'react';\n\nexport default function Introduction() {\n  return (\n    <article>\n      <p>\n        Try to guess the <b>4-digit</b> secret number.\n      </p>\n      <p>\n        If the matching digits are in their right positions, they are \"bulls\"\n        (&#9733;), if in different positions, they are \"cows\" (&#9734;).\n      </p>\n    </article>\n  );\n}\n","import React from 'react';\n\nexport default function Result({ attempt, secretDigits }) {\n  let bulls = 0;\n  let cows = 0;\n\n  for (let i = 0; i < attempt.length; i++) {\n    if (attempt[i] === secretDigits[i]) {\n      bulls++;\n    } else {\n      if (secretDigits.indexOf(attempt[i]) !== -1) {\n        cows++;\n      }\n    }\n  }\n\n  return (\n    <span>\n      {bulls}&times;&#9733; {cows}&times;&#9734;\n    </span>\n  );\n}\n","import React from 'react';\n\nimport styles from './DigitInput.module.css';\n\nconst CHAR_KEYS = [\n  8, // Backspace\n  9, // Tab\n  13, // Enter\n  37, // ArrowLeft\n  38, // ArrowUp\n  39, // ArrowRight\n  40, // ArrowDown\n  46, // Delete\n  35, // End\n  36 // Home\n];\n\n// React seems to not work properly with input of type=\"number\"\nexport default React.forwardRef(function DigitInput({ value, onChange }, ref) {\n  function handleKeyDown(ev) {\n    if (CHAR_KEYS.includes(ev.keyCode)) {\n      return;\n    }\n    if ('0123456789'.indexOf(ev.key) === -1) {\n      ev.preventDefault();\n    }\n  }\n\n  return (\n    <input\n      ref={ref}\n      type=\"text\"\n      maxLength=\"1\"\n      required\n      className={styles.digit}\n      value={value}\n      onClick={() => ref.current.select()}\n      onKeyDown={handleKeyDown}\n      onChange={onChange}\n    />\n  );\n});\n","import { useState } from 'react';\n\nconst initialState = Array(4).fill('');\n\nfunction hasDuplicates(digits) {\n  const dejaVu = {};\n  for (const digit of digits) {\n    if (digit !== '') {\n      if (digit in dejaVu) {\n        return true;\n      } else {\n        dejaVu[digit] = true;\n      }\n    }\n  }\n  return false;\n}\n\nexport default function useDigits() {\n  const [digits, setDigits] = useState(initialState);\n\n  // TODO useCallback?\n  const setDigitAt = (digit, index) => {\n    const nextDigits = digits.slice(0);\n    nextDigits[index] = digit;\n    setDigits(nextDigits);\n  };\n\n  const validateDigits = () => {\n    if (hasDuplicates(digits)) {\n      return { valid: false, msg: 'Each digit should be unique.' };\n    }\n\n    if (digits.some(v => v === '')) {\n      return { valid: false, msg: '' };\n    }\n\n    return { valid: true, msg: '' };\n  };\n\n  const resetDigits = () => setDigits(initialState);\n\n  return [digits, setDigitAt, validateDigits(), resetDigits];\n}\n","import React from 'react';\n\nimport styles from './InputForm.module.css';\n\nimport DigitInput from './DigitInput';\nimport useDigits from '../hooks/useDigits';\n\nexport default function InputForm({ onSubmit }) {\n  const [digits, setDigitAt, validation, resetDigits] = useDigits();\n  const refs = React.useRef(digits.map(React.createRef)); // cf. https://stackoverflow.com/questions/54633690/\n\n  // autofocus the first digit input on initial render\n  React.useEffect(() => {\n    refs.current[0].current.focus();\n  }, []);\n\n  function handleSubmit(ev) {\n    ev.preventDefault();\n    onSubmit(digits.join(''));\n    resetDigits();\n    refs.current[0].current.focus();\n    refs.current[0].current.scrollIntoView();\n  }\n\n  function handleChange(value, index) {\n    setDigitAt(value, index);\n    if (value !== '' && index < digits.length - 1) { // not last digit\n      refs.current[index + 1].current.focus();\n    }\n  }\n\n  return (\n    <form className={styles.form}>\n      <fieldset className={styles.fieldset}>\n        {digits.map((value, index) => (\n          <DigitInput\n            key={index}\n            ref={refs.current[index]}\n            value={value}\n            onChange={ev => handleChange(ev.target.value, index)}\n          />\n        ))}\n      </fieldset>\n      <button\n        type=\"submit\"\n        className={styles.button}\n        title=\"Validate\"\n        disabled={!validation.valid}\n        onClick={handleSubmit}\n      >\n        &#8679;\n      </button>\n      <p className={styles.error}>{validation.msg}&nbsp;</p>\n    </form>\n  );\n}\n","import React from 'react';\n\nimport styles from './SuccessPanel.module.css';\n\nexport default function SuccessPanel({ secretDigits, nbAttempts, onRestart }) {\n  return (\n    <article>\n      <div className={styles.commands}>\n        <button\n          type=\"button\"\n          onClick={onRestart}\n          className={styles.button}\n          title=\"Restart\"\n        >\n          &#8634;\n        </button>\n      </div>\n      <h1>Well done!</h1>\n      <p>\n        You have found the secret digits:{' '}\n        <strong className={styles.digits}>{secretDigits}</strong><br />\n        within <strong>{nbAttempts}</strong> attempts\n      </p>\n    </article>\n  );\n}\n","import React from 'react';\n\nimport styles from './Boardgame.module.css';\n\nimport AttemptResult from './AttemptResult';\nimport InputForm from './InputForm';\nimport SuccessPanel from './SuccessPanel';\n\nimport useAttempts from '../hooks/useAttempts';\nimport useSecretDigits from '../hooks/useSecretDigits';\n\nexport default function Boardgame() {\n  const [secretDigits, computeNextSecretDigits] = useSecretDigits();\n  const [attempts, addAttempt, resetAttempts] = useAttempts();\n\n  // TODO only testing the last attempts should be sufficient\n  const found = attempts.some(attempt => attempt === secretDigits);\n\n  function handleRestart() {\n    computeNextSecretDigits();\n    resetAttempts();\n  }\n\n  let content;\n  if (found) {\n    content = (\n      <SuccessPanel\n        secretDigits={secretDigits}\n        nbAttempts={attempts.length}\n        onRestart={handleRestart}\n      />\n    );\n  } else {\n    content = (\n      <>\n        <table className={styles.attempts} hidden={!attempts.length}>\n          <thead>\n            <tr>\n              <th>&nbsp;</th>\n              <th>Attempts</th>\n              <th>Results</th>\n            </tr>\n          </thead>\n          <tbody>\n            {attempts.map((attempt, index) => (\n              <tr key={index}>\n                <td>#{index + 1}</td>\n                <td>{attempt}</td>\n                <td>\n                  <AttemptResult\n                    attempt={attempt}\n                    secretDigits={secretDigits}\n                  />\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n        <InputForm onSubmit={addAttempt} />\n      </>\n    );\n  }\n\n  return <section>{content}</section>;\n}\n","import { useState, useDebugValue } from 'react';\n\nexport default function useSecretDigits() {\n  let [secretDigits, setSecretDigits] = useState(null);\n\n  function computeNextSecretDigits() {\n    let nextSecretDigits = '';\n    while (nextSecretDigits.length < 4) {\n      const candidate = Math.floor(Math.random() * 10);\n      if (nextSecretDigits.indexOf(candidate) === -1) {\n        nextSecretDigits += '' + candidate;\n      }\n    }\n    setSecretDigits(nextSecretDigits);\n    return nextSecretDigits;\n  }\n\n  // initial secret digits\n  if (secretDigits === null) {\n    secretDigits = computeNextSecretDigits();\n  }\n\n  // reveal secret digits in React DevTools\n  useDebugValue(secretDigits);\n\n  return [secretDigits, computeNextSecretDigits];\n}\n","import { useState, useCallback } from 'react';\n\nexport default function useAttempts() {\n  const [attempts, setAttempts] = useState([]);\n\n  const addAttempt = useCallback(digits =>\n    setAttempts(attempts.concat([digits]))\n  );\n\n  const resetAttempts = useCallback(() => setAttempts([]));\n\n  return [attempts, addAttempt, resetAttempts];\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('app'));\n","import React from 'react';\n\nimport styles from './App.module.css';\nimport github from './images/github.png';\n\nimport Introduction from './components/Introduction';\nimport Boardgame from './components/Boardgame';\n\nexport default function App() {\n  return (\n    <main className={styles.app}>\n      <header>\n        <h1>\n          secret&middot;digits\n          <small>bulls and cows</small>\n        </h1>\n        <Introduction />\n      </header>\n      <Boardgame />\n      <footer>\n        <a\n          href=\"https://github.com/wedk/secret-digits\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"View on GitHub\"\n        >\n          <img\n            src={github}\n            className={styles.github}\n            width=\"24\"\n            height=\"24\"\n            alt=\"GitHub logo\"\n          />\n        </a>\n      </footer>\n    </main>\n  );\n}\n"],"sourceRoot":""}